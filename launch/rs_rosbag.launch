<launch>
  <arg name="bag_file" default="rs_camera.bag" />
  <arg name="playback_speed" default="1" />
  <arg name="start_time" default="0.0" />

  <!-- Topic Info -->
  <arg name="camera_color_info_topic" default="/camera/color/camera_info" />
  <arg name="img_rect_color_topic" default="/camera/color/image_raw" />
  <arg name="img_rect_depth_topic" default="/camera/aligned_depth_to_color/image_raw" />

  <!-- Raw Image republiser -->
  <node name="image_color_republisher" pkg="image_transport" type="republish"
    args="compressed in:=$(arg img_rect_color_topic) raw out:=$(arg img_rect_color_topic)" />

  <node name="image_depth_republisher" pkg="image_transport" type="republish"
    args="compressedDepth in:=$(arg img_rect_depth_topic) raw out:=$(arg img_rect_depth_topic)" />

  <!-- Play rosbag file -->
  <param name="/use_sim_time" value="true" />
  <node name="rs_bag_player" pkg="rosbag" type="play" output="screen"
    args="--clock -r $(arg playback_speed) -s $(arg start_time) /home/ikhyeon/$(arg bag_file)" />

  <!-- Publish point cloud -->
  <include file="$(find realsense_ros_tools)/launch/include/_depth2cloud_rgb.launch" >
    <arg name="camera_color_info_topic" value="$(arg camera_color_info_topic)" />
    <arg name="img_rect_color_topic" value="$(arg img_rect_color_topic)" />
    <arg name="img_rect_depth_topic" value="$(arg img_rect_depth_topic)" />
  </include>

</launch>