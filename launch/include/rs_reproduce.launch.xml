<launch>
  <arg name="enable_pointcloud" default="true" />
  <arg name="camera_ns" default="camera" /> <!-- Bag file name -->

  <!-- Realsense topic info -->
  <arg name="img_color" default="/$(arg camera_ns)/color/image_raw" />
  <arg name="img_depth" default="/$(arg camera_ns)/depth/image_rect_raw" />
  <arg name="img_aligned_depth" default="/$(arg camera_ns)/aligned_depth_to_color/image_raw" />

  <!-- Raw Image republiser -->
  <include file="$(find realsense_ros_tools)/launch/include/compressed2raw.launch.xml">
    <arg name="camera_ns" value="$(arg camera_ns)" />
    <arg name="img_color" value="$(arg img_color)" />
    <arg name="img_depth" value="$(arg img_depth)" />
    <arg name="img_aligned_depth_topic" value="$(arg img_aligned_depth_topic)" />
  </include>

  <!-- Publish point cloud -->
  <include if="$(arg enable_pointcloud)" file="$(find realsense_ros_tools)/launch/include/depth2cloud_rgb.launch.xml">
    <arg name="camera_color_info_topic" value="/$(arg camera_ns)/color/camera_info" />
    <arg name="img_rect_color_topic" value="$(arg img_color)" />
    <arg name="img_aligned_depth_topic" value="$(arg img_aligned_depth_topic)" />
  </include>

</launch>